<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mac Hacks: Tahoe Edition</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    borderRadius: {
                        '4xl': '2rem',
                    },
                    colors: {
                        tahoe: {
                            500: '#0ea5e9',
                            900: '#0c4a6e',
                        }
                    },
                    fontFamily: {
                        sans: ['SF Pro Display', 'Inter', '-apple-system', 'BlinkMacSystemFont', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAC132xazKGMeM3IDFml5ODdJJBXN4JW-Y",
            authDomain: "mac-hacks-tahoe.firebaseapp.com",
            projectId: "mac-hacks-tahoe",
            storageBucket: "mac-hacks-tahoe.appspot.com",
            messagingSenderId: "752380504420",
            appId: "1:752380504420:web:c4ccb6e4ffc1447b63b271"
        };

        let db, auth;
        window.isFirebaseActive = false;

        try {
            const app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);
            window.isFirebaseActive = true;
            console.log("Firebase Connected.");
        } catch (e) {
            console.warn("Firebase Offline Mode.");
        }

        window.db = db;
        window.auth = auth;
        window.doc = doc;
        window.setDoc = setDoc;
        window.getDoc = getDoc;
        window.signInAnonymously = signInAnonymously;
        window.onAuthStateChanged = onAuthStateChanged;
    </script>

    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .dark ::-webkit-scrollbar-thumb { background: #334155; }
        
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;utf8,<svg fill='gray' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>");
            background-repeat: no-repeat;
            background-position-x: 90%;
            background-position-y: 50%;
        }

        /* 
           CUSTOM TAHOE GRADIENT 
           1/4 Red (0-25%), 1/2 Blue (25-75%), 1/4 Red (75-100%)
           Moving Right to Left
        */
        .animate-tahoe-gradient {
            background: linear-gradient(
                270deg, 
                #ef4444 0%, 
                #ef4444 15%, 
                #3b82f6 35%, 
                #3b82f6 65%, 
                #ef4444 85%,
                #ef4444 100%
            );
            background-size: 200% auto;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: moveGradient 6s linear infinite;
        }

        @keyframes moveGradient {
            0% { background-position: 0% 50%; }
            100% { background-position: -200% 50%; }
        }
    </style>
</head>
<body class="bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-200 min-h-screen font-sans selection:bg-tahoe-500 selection:text-white pb-20 transition-colors duration-300">

    <!-- 1. SETTINGS MENU -->
    <div class="fixed top-6 right-6 z-50">
        <button onclick="toggleSettings()" class="bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl border border-slate-200 dark:border-white/10 p-3 rounded-full shadow-2xl hover:scale-105 transition-all text-slate-700 dark:text-white">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
        </button>

        <div id="settings-menu" class="hidden absolute right-0 mt-4 w-64 bg-white/95 dark:bg-slate-900/95 backdrop-blur-2xl border border-slate-200 dark:border-white/10 rounded-3xl shadow-2xl p-4 transform origin-top-right transition-all">
            <div class="space-y-2">
                <button onclick="toggleTheme()" class="w-full text-left px-4 py-3 rounded-2xl hover:bg-slate-100 dark:hover:bg-white/10 flex items-center gap-3 transition-colors text-slate-800 dark:text-slate-200">
                    <span class="text-xl">üåì</span> <span class="font-medium">Toggle Theme</span>
                </button>
                <button onclick="showFavorites()" class="w-full text-left px-4 py-3 rounded-2xl hover:bg-slate-100 dark:hover:bg-white/10 flex items-center gap-3 transition-colors text-slate-800 dark:text-slate-200">
                    <span class="text-xl">‚ù§Ô∏è</span> <span class="font-medium">My Favorites</span>
                </button>
                <button onclick="reopenOnboarding()" class="w-full text-left px-4 py-3 rounded-2xl hover:bg-slate-100 dark:hover:bg-white/10 flex items-center gap-3 transition-colors text-slate-800 dark:text-slate-200">
                    <span class="text-xl">üéì</span> <span class="font-medium">Change Level</span>
                </button>
                <div class="h-px bg-slate-200 dark:bg-white/10 my-2"></div>
                <div class="px-4 py-2 text-xs text-slate-500 font-mono text-center">v2.5 Gradient Fix</div>
            </div>
        </div>
    </div>

    <!-- 2. LANDING PAGE -->
    <div id="landing-section" class="flex flex-col items-center justify-center min-h-[50vh] px-4 pt-20 transition-all duration-700">
        
        <!-- NEW GRADIENT TITLE -->
        <h1 class="text-5xl md:text-7xl font-bold mb-8 text-center tracking-tighter animate-tahoe-gradient py-2">
            Mac Hacks Dictionary
        </h1>

        <div class="w-full max-w-2xl relative group mb-6">
            <div class="absolute -inset-1 bg-gradient-to-r from-blue-600 to-red-600 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
            <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                    <svg class="h-6 w-6 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </div>
                <input type="text" id="search-input" class="block w-full pl-12 pr-4 py-5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-2xl text-xl text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-xl transition-all" placeholder="Search for 'Copy', 'Folder', or 'Terminal'...">
            </div>
        </div>

        <div class="flex gap-4 w-full max-w-2xl">
            <select id="filter-app" onchange="updateFilter('app', this.value)" class="flex-1 py-3 pl-4 pr-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-lg cursor-pointer">
                <option value="All">All Apps</option>
            </select>
            <select id="filter-type" onchange="updateFilter('type', this.value)" class="flex-1 py-3 pl-4 pr-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-lg cursor-pointer">
                <option value="All">All Types</option>
            </select>
        </div>
    </div>

    <!-- 3. HACK OF THE DAY -->
    <div id="hotd-wrapper" class="max-w-7xl mx-auto px-6 mb-8 hidden">
        <div class="bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/30 rounded-[2rem] p-8 relative overflow-hidden">
            <div class="absolute top-0 right-0 p-8 opacity-10">
                <svg class="w-32 h-32 text-amber-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/></svg>
            </div>
            <div class="relative z-10">
                <div class="flex items-center gap-2 mb-2">
                    <span class="bg-amber-500 text-slate-900 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider shadow-lg">Daily Pick</span>
                    <span class="text-amber-600 dark:text-amber-400 text-sm font-mono" id="hotd-app">System</span>
                </div>
                <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-2" id="hotd-title">Loading...</h2>
                <p class="text-slate-600 dark:text-slate-300 text-lg mb-4 max-w-2xl leading-relaxed" id="hotd-desc">Loading description...</p>
                <div class="flex gap-2">
                    <span class="px-3 py-1 bg-white/50 dark:bg-black/30 rounded-lg text-xs font-bold text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-white/10" id="hotd-level">Simple</span>
                </div>
            </div>
        </div>
    </div>

    <!-- 4. CONTENT GRID -->
    <div id="content-section" class="max-w-7xl mx-auto px-6 transition-opacity duration-500 opacity-100">
        
        <div id="filter-status" class="flex items-center gap-3 mb-6 hidden">
            <span class="text-sm font-semibold text-slate-400 uppercase tracking-wider">Viewing:</span>
            <span id="active-filter-badge" class="px-3 py-1 rounded-full bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 text-sm border border-blue-500/30">All</span>
            <button onclick="clearSearch()" class="text-sm text-slate-500 hover:text-slate-900 dark:hover:text-white underline">Clear</button>
        </div>

        <div id="hacks-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Cards injected via JS -->
        </div>
    </div>

    <!-- 5. ONBOARDING MODAL -->
    <div id="onboarding-modal" class="fixed inset-0 z-[100] flex items-center justify-center bg-black/50 dark:bg-black/90 backdrop-blur-md hidden opacity-0 transition-opacity duration-500">
        <div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 p-8 rounded-[2rem] max-w-2xl w-full mx-4 shadow-2xl relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-red-500 to-blue-500"></div>
            
            <!-- CLOSE BUTTON (Hidden on first load) -->
            <button id="modal-close-btn" onclick="closeModal()" class="absolute top-6 right-6 text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors hidden">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>

            <h1 class="text-4xl font-bold text-slate-900 dark:text-white mb-3 text-center">Welcome to <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-500">Tahoe</span></h1>
            <p class="text-slate-500 dark:text-slate-400 text-center mb-8 text-lg">Choose your current Mac expertise level.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <button onclick="setLevel('Simple')" class="p-5 border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 rounded-3xl hover:border-blue-500 hover:bg-slate-100 dark:hover:bg-slate-800 text-left group transition-all">
                    <div class="text-blue-500 dark:text-blue-400 font-bold text-lg mb-1">Simple</div>
                    <div class="text-sm text-slate-500">Basics every user should know.</div>
                </button>
                <button onclick="setLevel('Medium')" class="p-5 border border-teal-500/50 bg-teal-50 dark:bg-teal-900/10 rounded-3xl hover:bg-teal-100 dark:hover:bg-teal-900/20 text-left relative overflow-hidden group transition-all ring-1 ring-teal-500/50">
                    <div class="absolute top-3 right-3 text-[10px] bg-teal-500 text-white dark:text-slate-900 px-2 py-0.5 rounded-full font-bold uppercase tracking-wide">Recommended</div>
                    <div class="text-slate-900 dark:text-white font-bold text-lg mb-1">Medium</div>
                    <div class="text-sm text-slate-600 dark:text-slate-300">Efficient workflows for students.</div>
                </button>
                <button onclick="setLevel('High')" class="p-5 border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 rounded-3xl hover:border-purple-500 hover:bg-slate-100 dark:hover:bg-slate-800 text-left group transition-all">
                    <div class="text-purple-500 dark:text-purple-400 font-bold text-lg mb-1">High</div>
                    <div class="text-sm text-slate-500">Terminal & Power User tools.</div>
                </button>
                <button onclick="setLevel('Professional')" class="p-5 border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 rounded-3xl hover:border-red-500 hover:bg-slate-100 dark:hover:bg-slate-800 text-left group transition-all">
                    <div class="text-red-500 dark:text-red-400 font-bold text-lg mb-1">Professional</div>
                    <div class="text-sm text-slate-500">Deep system overrides.</div>
                </button>
            </div>
        </div>
    </div>

    <script>
        let state = {
            level: localStorage.getItem('mac_hacks_level') || null,
            favorites: new Set(JSON.parse(localStorage.getItem('mac_hacks_favorites') || '[]')),
            search: '',
            filterApp: 'All',
            filterType: 'All',
            mode: 'browse'
        };

        const toggleSettings = () => {
            document.getElementById('settings-menu').classList.toggle('hidden');
        }

        const toggleTheme = () => {
            document.documentElement.classList.toggle('dark');
        }

        const reopenOnboarding = () => {
            toggleSettings();
            // Show close button because user is editing
            document.getElementById('modal-close-btn').classList.remove('hidden');
            document.getElementById('onboarding-modal').classList.remove('hidden');
            setTimeout(() => document.getElementById('onboarding-modal').classList.remove('opacity-0'), 10);
        }

        const closeModal = () => {
            // Only allow close if level is already set
            if(!state.level) return; 
            const modal = document.getElementById('onboarding-modal');
            modal.classList.add('opacity-0');
            setTimeout(() => modal.classList.add('hidden'), 500);
        }

        const setLevel = (lvl) => {
            state.level = lvl;
            localStorage.setItem('mac_hacks_level', lvl);
            closeModal();
            clearSearch();
        }

        const showFavorites = () => {
            toggleSettings();
            state.mode = 'favorites';
            document.getElementById('search-input').value = '';
            document.getElementById('filter-status').classList.remove('hidden');
            document.getElementById('active-filter-badge').innerText = "Favorites";
            document.getElementById('hotd-wrapper').classList.add('hidden');
            renderGrid();
        }

        const updateFilter = (key, val) => {
            if (key === 'app') state.filterApp = val;
            if (key === 'type') state.filterType = val;
            renderGrid();
        }

        const clearSearch = () => {
            state.search = '';
            state.filterApp = 'All';
            state.filterType = 'All';
            state.mode = 'browse';
            document.getElementById('search-input').value = '';
            document.getElementById('filter-app').value = 'All';
            document.getElementById('filter-type').value = 'All';
            document.getElementById('filter-status').classList.add('hidden');
            renderHackOfTheDay();
            renderGrid();
        }

        async function init() {
            if (!state.level) {
                // First time: Hide close button, force selection
                document.getElementById('modal-close-btn').classList.add('hidden');
                document.getElementById('onboarding-modal').classList.remove('hidden');
                setTimeout(() => document.getElementById('onboarding-modal').classList.remove('opacity-0'), 100);
            } else {
                renderHackOfTheDay();
            }

            if (window.isFirebaseActive) {
                window.onAuthStateChanged(window.auth, async (user) => {
                    if (user) {
                        const userDoc = await window.getDoc(window.doc(window.db, "users", user.uid));
                        if (userDoc.exists()) {
                            const serverFavs = userDoc.data().favorites || [];
                            serverFavs.forEach(id => state.favorites.add(id));
                            saveFavs();
                            renderGrid();
                        } else {
                            await window.setDoc(window.doc(window.db, "users", user.uid), { 
                                favorites: Array.from(state.favorites) 
                            });
                        }
                    } else {
                        window.signInAnonymously(window.auth);
                    }
                });
            }

            populateDropdowns();

            document.getElementById('search-input').addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                state.search = query;
                if (query.length > 0) {
                    state.mode = 'search';
                    document.getElementById('landing-section').classList.remove('min-h-[50vh]', 'pt-20');
                    document.getElementById('landing-section').classList.add('min-h-[20vh]', 'pt-10');
                    document.getElementById('filter-status').classList.remove('hidden');
                    document.getElementById('hotd-wrapper').classList.add('hidden');
                    document.getElementById('active-filter-badge').innerText = `Search: "${query}"`;
                } else {
                    state.mode = 'browse';
                    document.getElementById('landing-section').classList.add('min-h-[50vh]', 'pt-20');
                    document.getElementById('landing-section').classList.remove('min-h-[20vh]', 'pt-10');
                    document.getElementById('filter-status').classList.add('hidden');
                    renderHackOfTheDay();
                }
                renderGrid();
            });

            renderGrid();
        }

        function populateDropdowns() {
            if(!HACKS) return;
            const apps = [...new Set(HACKS.flat().flatMap(h => h.app))].sort();
            const types = [...new Set(HACKS.map(h => h.type))].sort();
            
            const appSelect = document.getElementById('filter-app');
            apps.forEach(app => {
                const opt = document.createElement('option');
                opt.value = app;
                opt.innerText = app;
                appSelect.appendChild(opt);
            });

            const typeSelect = document.getElementById('filter-type');
            types.forEach(type => {
                const opt = document.createElement('option');
                opt.value = type;
                opt.innerText = type;
                typeSelect.appendChild(opt);
            });
        }

        function renderHackOfTheDay() {
            if (!state.level || state.mode !== 'browse') {
                document.getElementById('hotd-wrapper').classList.add('hidden');
                return;
            }
            const today = new Date().toDateString();
            const seed = today + state.level;
            let hash = 0;
            for (let i = 0; i < seed.length; i++) {
                hash = ((hash << 5) - hash) + seed.charCodeAt(i);
                hash |= 0; 
            }
            const eligible = HACKS.filter(h => h.level === state.level);
            if (eligible.length === 0) return;
            const index = Math.abs(hash) % eligible.length;
            const hack = eligible[index];
            document.getElementById('hotd-app').innerText = hack.app.join(', ');
            document.getElementById('hotd-title').innerText = hack.title;
            document.getElementById('hotd-desc').innerText = hack.desc;
            document.getElementById('hotd-level').innerText = hack.level;
            document.getElementById('hotd-wrapper').classList.remove('hidden');
        }

        function saveFavs() {
            localStorage.setItem('mac_hacks_favorites', JSON.stringify(Array.from(state.favorites)));
        }

        async function toggleFav(id) {
            if (state.favorites.has(id)) {
                state.favorites.delete(id);
            } else {
                state.favorites.add(id);
            }
            saveFavs();
            renderGrid();
            if (window.isFirebaseActive && window.auth.currentUser) {
                await window.setDoc(window.doc(window.db, "users", window.auth.currentUser.uid), { 
                    favorites: Array.from(state.favorites) 
                }, { merge: true });
            }
        }

        function renderGrid() {
            const grid = document.getElementById('hacks-grid');
            if(!HACKS) {
                grid.innerHTML = '<div class="text-red-500">Error: Hacks data not loaded.</div>';
                return;
            }
            const filtered = HACKS.filter(hack => {
                if (state.mode === 'search') {
                    const q = state.search;
                    const inTitle = hack.title.toLowerCase().includes(q);
                    const inDesc = hack.desc.toLowerCase().includes(q);
                    const inKeys = hack.keywords && hack.keywords.some(k => k.toLowerCase().includes(q));
                    const inApp = hack.app.some(a => a.toLowerCase().includes(q));
                    const inType = hack.type.toLowerCase().includes(q);
                    return inTitle || inDesc || inKeys || inApp || inType;
                }
                if (state.mode === 'favorites') {
                    return state.favorites.has(hack.id);
                }
                if (state.filterApp !== 'All' && !hack.app.includes(state.filterApp)) return false;
                if (state.filterType !== 'All' && hack.type !== state.filterType) return false;
                return hack.level === state.level;
            });
            grid.innerHTML = filtered.map(hack => {
                const isFav = state.favorites.has(hack.id);
                return `
                <div class="bg-white dark:bg-slate-900/50 backdrop-blur-md border border-slate-200 dark:border-white/5 rounded-[1.5rem] p-6 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all hover:-translate-y-1 hover:shadow-xl group">
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex gap-2">
                            ${hack.app.map(a => `<span class="px-2 py-1 bg-slate-100 dark:bg-white/5 rounded-lg text-xs font-medium text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-white/5">${a}</span>`).join('')}
                            ${hack.tahoe ? `<span class="px-2 py-1 bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 rounded-lg text-xs font-bold border border-blue-500/20 dark:border-blue-500/30">Tahoe</span>` : ''}
                        </div>
                        <button onclick="toggleFav(${hack.id})" class="text-slate-400 dark:text-slate-600 hover:text-red-500 dark:hover:text-red-500 transition-colors ${isFav ? 'text-red-500 dark:text-red-500' : ''}">
                            <svg class="w-6 h-6" fill="${isFav ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
                        </button>
                    </div>
                    
                    <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">${hack.title}</h3>
                    <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-4">${hack.desc}</p>
                    
                    <div class="flex justify-between items-center mt-auto pt-4 border-t border-slate-100 dark:border-white/5">
                        <span class="text-xs text-slate-400 dark:text-slate-500 font-mono">${hack.type}</span>
                        <span class="text-xs px-2 py-1 rounded bg-slate-100 dark:bg-slate-950 text-slate-500 dark:text-slate-600 border border-slate-200 dark:border-slate-800">${hack.level}</span>
                    </div>
                </div>
                `;
            }).join('');
            if (filtered.length === 0) {
                grid.innerHTML = `
                    <div class="col-span-full text-center py-20">
                        <div class="text-6xl mb-4">üî¶</div>
                        <h3 class="text-xl font-bold text-slate-700 dark:text-slate-300">No hacks found</h3>
                        <p class="text-slate-500 mt-2">Try adjusting your search terms.</p>
                    </div>
                `;
            }
        }
        const HACKS = [
    // --- SIMPLE (The Essentials) ---
    { id: 0, title: "Copy", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["clipboard", "duplicate", "text"], desc: "Cmd + C. Copies the selected text, image, or file to your clipboard, ready to be pasted elsewhere." },
    { id: 1, title: "Paste", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["clipboard", "insert", "move"], desc: "Cmd + V. Inserts the contents of your clipboard into the current field or folder." },
    { id: 2, title: "Cut", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["move", "remove", "clipboard"], desc: "Cmd + X. Removes the selection and copies it to the clipboard (Move operation)." },
    { id: 3, title: "Undo", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["oops", "back", "revert"], desc: "Cmd + Z. Instantly undoes your last action. Press multiple times to go further back." },
    { id: 4, title: "Redo", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["restore", "forward", "revert"], desc: "Cmd + Shift + Z. Re-applies an action you just Undid." },
    { id: 5, title: "Select All", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["highlight", "everything", "grab"], desc: "Cmd + A. Highlights every item in a folder or every word in a document." },
    { id: 6, title: "Spotlight Search", app: ["Spotlight"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["find", "open", "launch", "calculate", "math"], desc: "Cmd + Space. The brain of your Mac. Type to open apps, find files, or do math instantly." },
    { id: 7, title: "Force Quit", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["frozen", "stuck", "close", "kill", "stop"], desc: "Cmd + Option + Esc. Opens the Force Quit menu to kill apps that are frozen or not responding." },
    { id: 8, title: "Screenshot (Selection)", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["capture", "image", "snip", "clip"], desc: "Cmd + Shift + 4. Turns cursor into a crosshair. Drag to capture a specific part of the screen." },
    { id: 9, title: "Screenshot (Window)", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["capture", "clean", "shadow", "spacebar"], desc: "Cmd + Shift + 4, then hit Spacebar. Click any window to capture it perfectly with a transparent shadow." },
    { id: 10, title: "Emoji Picker", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["smile", "icon", "symbol", "text"], desc: "Ctrl + Cmd + Space. Opens the emoji and symbol picker anywhere you can type text." },
    { id: 11, title: "Quick Look", app: ["Finder"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["preview", "view", "spacebar"], desc: "Select any file in Finder and press Spacebar to instantly preview it without opening the app." },
    { id: 12, title: "App Expose", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["view", "windows", "mission control", "swipe"], desc: "Ctrl + Down Arrow (or Swipe Down with 3 fingers). Shows all open windows of the CURRENT app only." },
    { id: 13, title: "Switch Apps", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["navigate", "multitasking", "tab"], desc: "Cmd + Tab. Hold Cmd and tap Tab to quickly cycle through your open applications." },
    { id: 14, title: "Close Window", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["quit", "exit"], desc: "Cmd + W. Closes the current window (tabs/documents) but keeps the app running in the dock." },
    { id: 15, title: "New Tab", app: ["Safari", "Chrome", "Finder"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["browse", "window"], desc: "Cmd + T. Opens a new tab in Web Browsers and even Finder windows." },
    { id: 16, title: "New Window", app: ["Chrome", "Safari", "Finder"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["browse", "fresh", "open"], desc: "Cmd + N. Opens a completely new window instance for the active application." },
    { id: 17, title: "Reopen Closed Tab", app: ["Safari", "Chrome"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["oops", "undo", "browser"], desc: "Cmd + Shift + T. Magically brings back the last browser tab you accidentally closed." },
    { id: 18, title: "Chrome History", app: ["Chrome"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["log", "past", "website", "visited"], desc: "Cmd + Y. Instantly opens your Chrome browsing history page." },
    { id: 19, title: "Incognito Mode", app: ["Chrome"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["private", "hidden", "secret"], desc: "Cmd + Shift + N. Opens a new Incognito (Private) window in Chrome." },
    { id: 20, title: "Chrome Quit", app: ["Chrome"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["exit", "close", "stop"], desc: "Hold Cmd + Q (or press Q twice). Chrome requires a 'slow' quit to prevent accidents." },
    { id: 21, title: "Scroll to Top/Bottom", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["navigate", "page", "arrow"], desc: "Cmd + Up/Down Arrow. Instantly jumps to the very top or bottom of a document or webpage." },
    { id: 22, title: "Dictation", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["voice", "speak", "type", "mic"], desc: "Press F5 (or Fn + F5). Starts the microphone so you can type with your voice." },
    { id: 23, title: "Rename File", app: ["Finder"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["change", "title", "name"], desc: "Select a file and press Return (Enter). This enters rename mode (unlike Windows, which opens the file)." },
    { id: 24, title: "Delete File", app: ["Finder"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["trash", "remove", "bin"], desc: "Cmd + Delete. Moves the selected file to the Trash." },
    { id: 25, title: "Lock Screen", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["security", "sleep", "away"], desc: "Cmd + Ctrl + Q. Instantly locks your Mac screen (requires password to re-enter)." },
    { id: 26, title: "Interactive Widgets", app: ["System"], level: "Simple", type: "Other", tahoe: false, keywords: ["desktop", "home", "gadget"], desc: "Right-click Desktop > Edit Widgets. You can check off reminders or play podcasts directly from the desktop." },
    { id: 27, title: "Window Tiling (Hover)", app: ["System"], level: "Simple", type: "Other", tahoe: false, keywords: ["split", "organize", "view"], desc: "Hover over the green maximize button (top left). Choose 'Tile Window to Left/Right' for split screen." },
    { id: 28, title: "Show Clipboard", app: ["Finder"], level: "Simple", type: "Other", tahoe: false, keywords: ["paste", "history", "copy"], desc: "Finder > Edit > Show Clipboard. Opens a window showing exactly what is currently copied." },
    { id: 29, title: "Tags", app: ["Finder"], level: "Simple", type: "Other", tahoe: false, keywords: ["color", "organize", "label"], desc: "Right-click files to assign colored tags (Red, Blue). You can then search for 'Red' to find them all." },
    { id: 30, title: "Web Apps in Dock", app: ["Safari"], level: "High", type: "Other", tahoe: false, keywords: ["pwa", "shortcut", "app"], desc: "Safari > File > Add to Dock. Turns any website into a standalone app icon in your Dock." },
    { id: 31, title: "Print / Save PDF", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["paper", "pdf", "save"], desc: "Cmd + P. Opens print dialog. Click the small 'PDF' arrow at the bottom to save as a file." },
    { id: 32, title: "Find in Page", app: ["System"], level: "Simple", type: "Keyboard Commands", tahoe: false, keywords: ["search", "locate", "text"], desc: "Cmd + F. Opens a search bar to find specific text within the current web page or document." },

    // --- MEDIUM (The Power User) ---
    { id: 33, title: "Do Not Disturb", app: ["System"], level: "Medium", type: "Settings Hacks", tahoe: false, keywords: ["silence", "notification", "focus", "quiet"], desc: "Option + Click the Date/Time in the menu bar. Instantly toggles 'Do Not Disturb' mode on/off." },
    { id: 34, title: "Hot Corners", app: ["System"], level: "Medium", type: "Settings Hacks", tahoe: false, keywords: ["corner", "mouse", "shortcut"], desc: "System Settings > Desktop & Dock > Hot Corners. Trigger actions (like Lock Screen) by moving mouse to a corner." },
    { id: 35, title: "Text Replacements", app: ["System"], level: "Medium", type: "Settings Hacks", tahoe: false, keywords: ["shortcut", "expand", "email", "typing"], desc: "System Settings > Keyboard > Text Replacements. Set a shortcut like '@@' to auto-expand to your full email address." },
    { id: 36, title: "Empty Trash", app: ["Finder"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["clean", "delete", "permanent"], desc: "Cmd + Shift + Delete. Empties the trash (asks for confirmation). Add 'Option' to skip confirmation." },
    { id: 37, title: "Sound Output Select", app: ["System"], level: "Medium", type: "Other", tahoe: false, keywords: ["audio", "headphones", "speaker"], desc: "Option + Click the Sound icon in the menu bar. Allows you to quickly switch between Speakers/Headphones." },
    { id: 38, title: "Game Mode", app: ["System"], level: "Medium", type: "Other", tahoe: false, keywords: ["performance", "cpu", "gpu", "play"], desc: "Auto-triggers in full-screen games. Prioritizes CPU/GPU for the game and reduces background usage." },
    { id: 39, title: "Picture in Picture", app: ["Safari"], level: "Medium", type: "Other", tahoe: false, keywords: ["youtube", "video", "float"], desc: "Right-click a YouTube video TWICE. Select 'Picture in Picture' to float the video while you work." },
    { id: 40, title: "Rearrange Menu Bar", app: ["System"], level: "Medium", type: "Other", tahoe: false, keywords: ["organize", "icons", "move", "drag"], desc: "Hold Cmd + Drag icons in the top menu bar. You can rearrange them or drag them out to remove them." },
    { id: 41, title: "Tahoe Folder Stamps", app: ["Finder"], level: "Medium", type: "Other", tahoe: true, keywords: ["icon", "custom", "emoji", "color"], desc: "Right-click folder > 'Appearance'. Replace standard blue icons with Emojis or Tint Colors. (Tahoe Exclusive)." },
    { id: 42, title: "Paste Without Formatting", app: ["System"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["clean", "text", "style"], desc: "Cmd + Option + Shift + V. Pastes text matching the destination's font/style, ignoring the original format." },
    { id: 43, title: "Screen Recording HUD", app: ["System"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["video", "record", "screen"], desc: "Cmd + Shift + 5. Opens the advanced HUD for recording video or taking timed screenshots." },
    { id: 44, title: "Delete by Word", app: ["Text"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["edit", "remove", "typing"], desc: "Option + Delete. Removes the entire word behind the cursor instead of just one letter." },
    { id: 45, title: "Navigate by Word", app: ["Text"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["move", "cursor", "jump"], desc: "Option + Left/Right Arrow. Jumps the cursor one entire word at a time." },
    { id: 46, title: "Navigate to Start/End", app: ["Text"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["line", "move", "cursor"], desc: "Cmd + Left/Right Arrow. Jumps the cursor instantly to the start or end of the current line." },
    { id: 47, title: "Cycle Windows (Same App)", app: ["System"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["switch", "tab", "tilde"], desc: "Cmd + ~ (Tilde). Switches between different windows of the SAME app (e.g., two Word docs)." },
    { id: 48, title: "Search Current Folder", app: ["Finder"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["find", "scope", "limit"], desc: "Cmd + F inside a folder. Then click 'Current Folder' near the top to search ONLY that specific location." },
    { id: 49, title: "Clear Terminal", app: ["Terminal"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["clean", "wipe", "screen"], desc: "Cmd + K. Instantly clears all previous text and output in the Terminal window." },
    { id: 50, title: "Silent Click", app: ["System"], level: "Medium", type: "Settings Hacks", tahoe: false, keywords: ["trackpad", "haptic", "noise"], desc: "System Settings > Trackpad. Turn off 'Force Click' and 'Sound' for a completely silent trackpad." },
    { id: 51, title: "Path Bar", app: ["Finder"], level: "Medium", type: "Settings Hacks", tahoe: false, keywords: ["location", "breadcrump", "where"], desc: "Finder > View > Show Path Bar. Shows the file trail (User > Docs > Folder) at the bottom of the window." },
    { id: 52, title: "Status Bar", app: ["Finder"], level: "Medium", type: "Settings Hacks", tahoe: false, keywords: ["count", "space", "storage"], desc: "Finder > View > Show Status Bar. Displays item count and remaining disk space at the bottom." },
    { id: 53, title: "Function Keys", app: ["System"], level: "Medium", type: "Settings Hacks", tahoe: false, keywords: ["fn", "touchbar", "control"], desc: "System Settings > Keyboard. Set 'Press Fn to' to 'Show F1, F2, etc.' for pro function key access." },
    { id: 54, title: "AirPlay Receiver", app: ["System"], level: "Medium", type: "Settings Hacks", tahoe: false, keywords: ["mirror", "iphone", "screen"], desc: "System Settings > General > AirDrop. Allow your Mac to act as a screen/speaker for your iPhone." },
    { id: 55, title: "Live Speech", app: ["System"], level: "Medium", type: "Settings Hacks", tahoe: false, keywords: ["accessibility", "talk", "type"], desc: "System Settings > Accessibility > Live Speech. Type to have your Mac speak for you during FaceTime calls." },
    { id: 56, title: "Prevent Sleep (Caffeinate)", app: ["Terminal"], level: "Medium", type: "Terminal Hacks", tahoe: false, keywords: ["awake", "coffee", "caffeinate"], desc: "Type 'caffeinate -d' in Terminal. Keeps screen awake indefinitely. Press Ctrl+C to stop." },
    { id: 57, title: "Reset Dock", app: ["Terminal"], level: "Medium", type: "Terminal Hacks", tahoe: false, keywords: ["fix", "restart", "glitch"], desc: "Type 'killall Dock'. Restarts the Dock process if it gets stuck, frozen, or glitchy." },
    { id: 58, title: "Download File", app: ["Terminal"], level: "Medium", type: "Terminal Hacks", tahoe: false, keywords: ["curl", "web", "get"], desc: "Type 'curl -O [URL]'. Downloads the file from the URL directly to your Home folder." },
    { id: 59, title: "Check Uptime", app: ["Terminal"], level: "Medium", type: "Terminal Hacks", tahoe: false, keywords: ["time", "status", "boot"], desc: "Type 'uptime'. Shows exactly how long your Mac has been running since the last full restart." },
    { id: 60, title: "Batch Rename", app: ["Finder"], level: "Medium", type: "Other", tahoe: false, keywords: ["bulk", "change", "files"], desc: "Select multiple files > Right Click > Rename. Find & Replace text or add numbers to all files at once." },
    { id: 61, title: "Merge All Windows", app: ["Finder", "Safari"], level: "Medium", type: "Other", tahoe: false, keywords: ["combine", "tabs", "organize"], desc: "Window > Merge All Windows. Combines scattered windows of an app into one single window with tabs." },
    { id: 62, title: "Extract Image from PDF", app: ["Preview"], level: "Medium", type: "Other", tahoe: false, keywords: ["copy", "snip", "export"], desc: "In Preview, use Selection tool to grab an area. Cmd+C (Copy), then Cmd+N (New) to create an image file from it." },
    { id: 63, title: "Crop to Circle", app: ["Preview"], level: "Medium", type: "Other", tahoe: false, keywords: ["edit", "image", "shape"], desc: "Preview > Markup. Select Ellipse tool. Hold Shift to draw a circle. Crop to create a perfect round icon." },
    { id: 64, title: "Hardware Info", app: ["System"], level: "Medium", type: "Other", tahoe: false, keywords: ["specs", "serial", "model"], desc: "Hold Option + Click Apple Menu. 'About This Mac' becomes 'System Information', showing deep hardware specs." },
    { id: 65, title: "Check File Size", app: ["Terminal"], level: "Medium", type: "Terminal Hacks", tahoe: false, keywords: ["storage", "disk", "space"], desc: "Type 'du -sh [folder path]'. Calculates and displays the total size of a specific folder." },
    { id: 66, title: "Text to Audio", app: ["Terminal"], level: "Medium", type: "Terminal Hacks", tahoe: false, keywords: ["speak", "mp3", "convert"], desc: "Type 'say -o output.aiff -f text.txt'. Converts a text file into a spoken audio file." },
    { id: 67, title: "Kill Process Name", app: ["Terminal"], level: "Medium", type: "Terminal Hacks", tahoe: false, keywords: ["force", "stop", "program"], desc: "Type 'pkill [App Name]' (e.g., pkill Safari). Instantly force closes the specified application." },
    { id: 68, title: "Settings Shortcut", app: ["System"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["preferences", "config", "universal"], desc: "Cmd + , (Comma). Opens the Settings/Preferences window for almost ANY open application." },
    { id: 69, title: "Browser Address Bar", app: ["Chrome", "Safari"], level: "Medium", type: "Keyboard Commands", tahoe: false, keywords: ["url", "type", "search"], desc: "Cmd + L. Instantly highlights the URL bar so you can type a new search or website address." },

    // --- HIGH (The Specialist) ---
    { id: 70, title: "WiFi Password View", app: ["System"], level: "High", type: "Settings Hacks", tahoe: false, keywords: ["network", "share", "copy"], desc: "System Settings > Wi-Fi. Click the '...' next to a network > Copy Password. Useful for sharing." },
    { id: 71, title: "Spotlight Workflow Predictor", app: ["Spotlight"], level: "High", type: "Keyboard Commands", tahoe: true, keywords: ["ai", "suggestion", "context"], desc: "Type 'Work' or 'Relax'. Spotlight AI sets up your window layout and playlists. (Tahoe Exclusive)." },
    { id: 72, title: "Go to Folder", app: ["Finder"], level: "High", type: "Keyboard Commands", tahoe: false, keywords: ["navigate", "path", "hidden"], desc: "Cmd + Shift + G. Allows you to type a direct file path (e.g., ~/Library) to jump to hidden folders." },
    { id: 73, title: "Volume Fine Tuning", app: ["System"], level: "High", type: "Keyboard Commands", tahoe: false, keywords: ["audio", "precise", "level"], desc: "Option + Shift + Volume Keys. Adjusts volume in tiny 1/4 increments for perfect audio control." },
    { id: 74, title: "Brightness Fine Tuning", app: ["System"], level: "High", type: "Keyboard Commands", tahoe: false, keywords: ["display", "precise", "level"], desc: "Option + Shift + Brightness Keys. Adjusts screen brightness in tiny 1/4 increments." },
    { id: 75, title: "Minimize All Windows", app: ["System"], level: "High", type: "Keyboard Commands", tahoe: false, keywords: ["desktop", "hide", "clear"], desc: "Cmd + Option + M. Minimizes ALL windows of the current app. (Hold Shift to see it in slow motion!)." },
    { id: 76, title: "Slow Motion Animation", app: ["System"], level: "High", type: "Keyboard Commands", tahoe: false, keywords: ["fun", "effect", "genie"], desc: "Hold Shift while clicking the yellow Minimize button. Plays the Genie effect in super slow motion." },
    { id: 77, title: "Universal Control", app: ["System"], level: "High", type: "Settings Hacks", tahoe: false, keywords: ["ipad", "mouse", "share"], desc: "System Settings > Displays. Push mouse off screen edge to seamlessly control a nearby iPad." },
    { id: 78, title: "Personal Voice", app: ["System"], level: "High", type: "Settings Hacks", tahoe: true, keywords: ["ai", "speech", "clone"], desc: "Settings > Accessibility > Personal Voice. Train the Mac to speak in YOUR own voice using AI." },
    { id: 79, title: "Liquid Glass Transparency", app: ["System"], level: "High", type: "Settings Hacks", tahoe: true, keywords: ["ui", "visual", "depth"], desc: "Settings > Appearance. Toggles the advanced 'Tahoe' depth blur effect on window sidebars." },
    { id: 80, title: "Three Finger Drag", app: ["System"], level: "High", type: "Settings Hacks", tahoe: false, keywords: ["trackpad", "move", "gesture"], desc: "Accessibility > Pointer Control > Trackpad Options. Enable dragging windows with 3 fingers (no click needed)." },
    { id: 81, title: "Change Screenshot Type", app: ["Terminal"], level: "High", type: "Terminal Hacks", tahoe: false, keywords: ["format", "jpg", "png"], desc: "'defaults write com.apple.screencapture type jpg'. Saves screenshots as smaller JPGs instead of PNGs." },
    { id: 82, title: "Remove Screenshot Shadow", app: ["Terminal"], level: "High", type: "Terminal Hacks", tahoe: false, keywords: ["clean", "flat", "image"], desc: "'defaults write com.apple.screencapture disable-shadow -bool TRUE'. Removes the drop shadow from window captures." },
    { id: 83, title: "Matrix Screen Saver", app: ["Terminal"], level: "High", type: "Terminal Hacks", tahoe: false, keywords: ["fun", "hacker", "code"], desc: "Install Homebrew, then type 'cmatrix'. Turns your terminal into the famous Matrix digital rain." },
    { id: 84, title: "Network Quality Test", app: ["Terminal"], level: "High", type: "Terminal Hacks", tahoe: false, keywords: ["speed", "internet", "wifi"], desc: "Type 'networkQuality'. Runs Apple's built-in internet speed and responsiveness test." },
    { id: 85, title: "Hide Desktop Icons", app: ["Terminal"], level: "High", type: "Terminal Hacks", tahoe: false, keywords: ["clean", "presentation", "clutter"], desc: "'defaults write com.apple.finder CreateDesktop false; killall Finder'. Hides all icons for a clean desktop." },
    { id: 86, title: "Re-Show Desktop Icons", app: ["Terminal"], level: "High", type: "Terminal Hacks", tahoe: false, keywords: ["restore", "view", "files"], desc: "'defaults write com.apple.finder CreateDesktop true; killall Finder'. Restores hidden desktop icons." },
    { id: 87, title: "Smart Folders", app: ["Finder"], level: "High", type: "Other", tahoe: false, keywords: ["search", "automation", "organize"], desc: "Finder > File > New Smart Folder. Auto-groups files based on rules (e.g., 'All PDFs created this week')." },
    { id: 88, title: "WiFi Details", app: ["System"], level: "High", type: "Other", tahoe: false, keywords: ["ip", "router", "technical"], desc: "Hold Option + Click WiFi Icon. Shows advanced stats like IP Address, Noise Level, and Router Channel." },
    { id: 89, title: "Bluetooth Details", app: ["System"], level: "High", type: "Other", tahoe: false, keywords: ["signal", "codec", "tech"], desc: "Hold Shift + Option + Click Bluetooth Icon. Shows technical details like Codec and signal strength." },
    { id: 90, title: "List Processes (Top)", app: ["Terminal"], level: "High", type: "Terminal Hacks", tahoe: false, keywords: ["cpu", "monitor", "activity"], desc: "Type 'top -o cpu'. Displays a real-time, text-based task manager sorted by CPU usage." },
    { id: 91, title: "Password Protected Zip", app: ["Terminal"], level: "High", type: "Terminal Hacks", tahoe: false, keywords: ["security", "encrypt", "archive"], desc: "'zip -er archive.zip [folder]'. Creates a secure zip file that requires a password to open." },
    { id: 92, title: "Summarize Text", app: ["System"], level: "High", type: "Settings Hacks", tahoe: false, keywords: ["ai", "shorten", "read"], desc: "Keyboard Settings > Services > Summarize. Select text > Right Click > Summarize. (Old school AI!)." },
    { id: 93, title: "Quick Note", app: ["System"], level: "High", type: "Settings Hacks", tahoe: false, keywords: ["write", "corner", "memo"], desc: "Bottom-Right Hot Corner. Move mouse there to instantly create a Note (often links to current website)." },

    // --- PROFESSIONAL (The Architect) ---
    { id: 94, title: "Show Hidden Files", app: ["Finder"], level: "Professional", type: "Keyboard Commands", tahoe: false, keywords: ["system", "dotfiles", "view"], desc: "Cmd + Shift + . (Period). Toggles visibility of system files (like .gitignore or .DS_Store)." },
    { id: 95, title: "Access Menu Bar", app: ["System"], level: "Professional", type: "Keyboard Commands", tahoe: false, keywords: ["keyboard", "navigate", "mouse-free"], desc: "Ctrl + F2. Focuses the Apple Menu so you can navigate menus using only arrow keys." },
    { id: 96, title: "Force Restart", app: ["System"], level: "Professional", type: "Keyboard Commands", tahoe: false, keywords: ["emergency", "boot", "power"], desc: "Cmd + Ctrl + Power Button. Forces an instant hard reboot. (WARNING: Unsaved data will be lost)." },
    { id: 97, title: "Add Dock Spacers", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["organize", "gap", "separator"], desc: "'defaults write com.apple.dock persistent-apps -array-add...'. Adds invisible spacers to organize the Dock." },
    { id: 98, title: "Purge RAM", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["memory", "speed", "cache"], desc: "Type 'sudo purge'. Forces the Mac to dump inactive memory. Useful before launching heavy apps." },
    { id: 99, title: "Secure Empty Trash", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["delete", "wipe", "nsa"], desc: "'srm -v [file]'. Securely overwrites the file 35 times before deleting. Impossible to recover." },
    { id: 100, title: "Disable Startup Chime", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["sound", "boot", "quiet"], desc: "'sudo nvram SystemAudioVolume=%80'. Permanently mutes the iconic Mac startup sound." },
    { id: 101, title: "Enable Startup Chime", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["sound", "boot", "classic"], desc: "'sudo nvram -d SystemAudioVolume'. Restores the startup sound if previously disabled." },
    { id: 102, title: "View iCloud Drive", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["cloud", "navigate", "path"], desc: "Type 'cd ~/Library/Mobile\\ Documents'. Navigates to the hidden local folder for iCloud data." },
    { id: 103, title: "Change Screenshot Location", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["save", "folder", "desktop"], desc: "'defaults write com.apple.screencapture location [path]'. Change save location from Desktop to elsewhere." },
    { id: 104, title: "Disable Shadow", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["clean", "flat", "window"], desc: "'defaults write com.apple.screencapture disable-shadow -bool TRUE'. Removes window screenshot shadows." },
    { id: 105, title: "Reset Launchpad", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["layout", "organize", "default"], desc: "'defaults write com.apple.dock ResetLaunchPad -bool true; killall Dock'. Resets Launchpad to factory layout." },
    { id: 106, title: "Stress Test CPU", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["benchmark", "heat", "fan"], desc: "Type 'yes > /dev/null &'. Runs a 100% CPU load process. (Kill with 'killall yes')." },
    { id: 107, title: "Superuser Do", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["admin", "root", "permission"], desc: "Prefixing commands with 'sudo' (e.g. sudo purge) runs them as Administrator. Use with caution." },
    { id: 108, title: "View Hidden Library", app: ["Finder"], level: "Professional", type: "Other", tahoe: false, keywords: ["folder", "user", "settings"], desc: "In Finder, click 'Go' in the menu bar and hold 'Option'. The hidden 'Library' folder appears." },
    { id: 109, title: "Gatekeeper Bypass", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["security", "install", "unsigned"], desc: "'sudo spctl --master-disable'. Allows installing apps from 'Anywhere' (Risky, but useful for devs)." },
    { id: 110, title: "Flush DNS", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["network", "internet", "fix"], desc: "'sudo dscacheutil -flushcache'. Resets how Mac resolves websites. Fixes some connection errors." },
    { id: 111, title: "Prevent App Nap", app: ["System"], level: "Professional", type: "Other", tahoe: false, keywords: ["performance", "background", "sleep"], desc: "Right-click App > Get Info > Prevent App Nap. Stops macOS from slowing the app when in background." },
    { id: 112, title: "Boot to Safe Mode", app: ["System"], level: "Professional", type: "Other", tahoe: false, keywords: ["troubleshoot", "fix", "startup"], desc: "Shut down. Hold Power button until options appear. Shift-click 'Continue in Safe Mode'." },
    { id: 113, title: "Target Disk Mode", app: ["System"], level: "Professional", type: "Other", tahoe: false, keywords: ["transfer", "harddrive", "usbc"], desc: "Connect two Macs via USB-C. Boot one holding 'T'. It mounts as an external hard drive on the other." },
    { id: 114, title: "Network Utility", app: ["System"], level: "Professional", type: "Other", tahoe: false, keywords: ["ping", "trace", "lookup"], desc: "Hidden tool. Accessible via Terminal or CoreServices. Used for Pinging and Traceroute." },
    { id: 115, title: "Custom Login Message", app: ["Terminal"], level: "Professional", type: "Terminal Hacks", tahoe: false, keywords: ["lockscreen", "text", "lost"], desc: "'sudo defaults write /Library/Preferences/com.apple.loginwindow LoginwindowText \"Your Text\"'." }
];

        window.addEventListener('DOMContentLoaded', init);

    </script>
</body>
</html>
